<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Coordinates · KM3io.jl</title><meta name="title" content="Coordinates · KM3io.jl"/><meta property="og:title" content="Coordinates · KM3io.jl"/><meta property="twitter:title" content="Coordinates · KM3io.jl"/><meta name="description" content="Documentation for KM3io.jl."/><meta property="og:description" content="Documentation for KM3io.jl."/><meta property="twitter:description" content="Documentation for KM3io.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="KM3io.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../rootfiles/">ROOT Files</a></li><li><a class="tocitem" href="../multi-threading/">Multi-Threading</a></li><li><a class="tocitem" href="../detector/">Detector and its Components</a></li><li><a class="tocitem" href="../calibration/">Calibration</a></li><li class="is-active"><a class="tocitem" href>Coordinates</a><ul class="internal"><li><a class="tocitem" href="#UTM"><span>UTM</span></a></li><li><a class="tocitem" href="#Earth-Coordinates"><span>Earth Coordinates</span></a></li><li><a class="tocitem" href="#Azimuth"><span>Azimuth</span></a></li></ul></li><li><a class="tocitem" href="../auxfiles/">Auxiliary Files</a></li><li><a class="tocitem" href="../tools/">Tools</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/online_data/">Online data</a></li><li><a class="tocitem" href="../../examples/offline_data/">Offline data</a></li><li><a class="tocitem" href="../../examples/cherenkov_times/">Cherenkov times</a></li><li><a class="tocitem" href="../../examples/footprint/">Detector Footprint</a></li><li><a class="tocitem" href="../../examples/orientations/">Orientations</a></li><li><a class="tocitem" href="../../examples/controlhost/">Accessing Live Data</a></li><li><a class="tocitem" href="../../examples/hdf5/">HDF5</a></li></ul></li><li><a class="tocitem" href="../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Coordinates</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Coordinates</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://git.km3net.de/common/KM3io.jl" title="View the repository"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">Repository</span></a><a class="docs-navbar-link" href="https://git.km3net.de/common/KM3io.jl/blob/main/docs/src/manual/coordinates.md#L" title="Edit source"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Coordinates"><a class="docs-heading-anchor" href="#Coordinates">Coordinates</a><a id="Coordinates-1"></a><a class="docs-heading-anchor-permalink" href="#Coordinates" title="Permalink"></a></h1><h2 id="UTM"><a class="docs-heading-anchor" href="#UTM">UTM</a><a id="UTM-1"></a><a class="docs-heading-anchor-permalink" href="#UTM" title="Permalink"></a></h2><p>The positions of KM3NeT detectors are given in the <a href="https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system">UTM coordinate system</a> and use the <a href="https://en.wikipedia.org/wiki/World_Geodetic_System#WGS84">World Geodetic System WGS84</a> standard. This data is available in the DETX format starting from version 2 and in the DATX format, which was officially introduced in parallel to DETX v5.</p><p>The position information is stored in the <code>.pos</code> field of the <a href="../../api/#KM3io.Detector"><code>Detector</code></a> and has the type <a href="../../api/#KM3io.UTMPosition"><code>UTMPosition</code></a>. Below is the position of an ARCA detector with the detector ID 133.</p><pre><code class="language-julia hljs">using KM3io, KM3NeTTestData

det = Detector(datapath(&quot;detx&quot;, &quot;KM3NeT_00000133_20221025.detx&quot;))
det.pos</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">UTMPosition(587600.0, 4.0168e6, 33, &#39;N&#39;, -3450.0)</code></pre><p>Positions and orientations of everything else inside and around the detector (hits, detector modules, PMTs, reconstructed tracks and showers etc.) are given in local coordinates using the x, y, z components. The x-axis is hereby pointing to the east (UTM Easting), corresponding to <code>phi = 0 deg</code>, the y-axis to the north (UTM Northing), corresponding to <code>phi = 90 deg</code>, hence the angle phi is increasing counter clockwise and the z-axis upwards towards the zenith with its zero value at the sea surface. More details can be found in the <code>KM3NeT_SOFT_WD_2016_002 - Coordinate System Proposal</code> internal note. The origin of the local coordinate system is at the detector&#39;s UTM position.</p><h2 id="Earth-Coordinates"><a class="docs-heading-anchor" href="#Earth-Coordinates">Earth Coordinates</a><a id="Earth-Coordinates-1"></a><a class="docs-heading-anchor-permalink" href="#Earth-Coordinates" title="Permalink"></a></h2><p>A commonly used coordinate system to describe positions directly on Earth as latitude and longitude is the <a href="https://en.wikipedia.org/wiki/Geographic_coordinate_system">Geographic Coordinate System (GCS)</a>. <code>KM3io.jl</code> provides a function called <a href="../../api/#KM3io.lonlat"><code>lonlat</code></a> to transform UTM coordinates represented as <a href="../../api/#KM3io.UTMPosition"><code>UTMPosition</code></a> to GCS.</p><pre><code class="language-julia hljs">lonlat(det.pos)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">LonLatExtended(0.2788259891652955, 0.6334183919376817, 1.3971407689009945, 0.010078736515781934)</code></pre><p>The <a href="../../api/#KM3io.lonlat"><code>lonlat</code></a> function also has a method which accepts a <a href="../../api/#KM3io.Detector"><code>Detector</code></a> as input and will use its UTM coordinate behind the scenes:</p><pre><code class="language-julia hljs">lonlat(det)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">LonLatExtended(0.2788259891652955, 0.6334183919376817, 1.3971407689009945, 0.010078736515781934)</code></pre><p>The output value is not a simple longitude and latitude pair but contains additional information. The current implementation includes the meridian convergence angle, which is the angle of difference between true north and coordinate north, and the point scale factor. These quantities are important for astronomic coordinate transformations and are required due to the fact that the Earth&#39;s shape is not a perfect sphere.</p><div class="admonition is-info" id="Note-9ae08f7be42c8191"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-9ae08f7be42c8191" title="Permalink"></a></header><div class="admonition-body"><p>Although <code>KM3io.jl</code> defines a simple <a href="../../api/#KM3io.LonLat"><code>LonLat</code></a> type, it&#39;s currently not being used and acts as a placeholder.</p></div></div><h2 id="Azimuth"><a class="docs-heading-anchor" href="#Azimuth">Azimuth</a><a id="Azimuth-1"></a><a class="docs-heading-anchor-permalink" href="#Azimuth" title="Permalink"></a></h2><p>KM3NeT uses the ANTARES azimuth definition which is different to what is used in e.g. SLALIB or AstroPy. The <a href="../../api/#KM3io.azimuth"><code>azimuth</code></a> function can be used to determine the azimuth according to the KM3NeT definition from a given <a href="../../api/#KM3io.Direction"><code>Direction</code></a> in a detector coordinate system where <code>x</code> points to East and <code>y</code> to North. This is a convention often used in geographic coordinate systems like <a href="https://en.wikipedia.org/wiki/Geographic_coordinate_system">Geographic Coordinate System (GCS)</a>. </p><h3 id="KM3NeT/ANTARES-Azimuth"><a class="docs-heading-anchor" href="#KM3NeT/ANTARES-Azimuth">KM3NeT/ANTARES Azimuth</a><a id="KM3NeT/ANTARES-Azimuth-1"></a><a class="docs-heading-anchor-permalink" href="#KM3NeT/ANTARES-Azimuth" title="Permalink"></a></h3><pre><code class="language-julia hljs">azimuth(Direction(1.0, 0.0, 0.0))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">0.0</code></pre><pre><code class="language-julia hljs">azimuth(Direction(0.0, 1.0, 0.0))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1.5707963267948966</code></pre><pre><code class="language-julia hljs">azimuth(Direction(0.0, -1.0, 0.0))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">-1.5707963267948966</code></pre><h3 id="&quot;True&quot;-Azimuth"><a class="docs-heading-anchor" href="#&quot;True&quot;-Azimuth">&quot;True&quot; Azimuth</a><a id="&quot;True&quot;-Azimuth-1"></a><a class="docs-heading-anchor-permalink" href="#&quot;True&quot;-Azimuth" title="Permalink"></a></h3><p>The &quot;true&quot; azimuth (as typically used in astronomy libraries like SLALIB and AstroPy) can be obtained using <a href="../../api/#KM3io.true_azimuth"><code>true_azimuth</code></a>. Azimuth is returned in the range 0−2π; north is zero, and east is +π/2.</p><pre><code class="language-julia hljs">true_azimuth(Direction(1.0, 0.0, 0.0))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1.5707963267948966</code></pre><pre><code class="language-julia hljs">true_azimuth(Direction(0.0, 1.0, 0.0))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">0.0</code></pre><pre><code class="language-julia hljs">true_azimuth(Direction(0.0, -1.0, 0.0))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3.141592653589793</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../calibration/">« Calibration</a><a class="docs-footer-nextpage" href="../auxfiles/">Auxiliary Files »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Wednesday 18 February 2026 16:05">Wednesday 18 February 2026</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
